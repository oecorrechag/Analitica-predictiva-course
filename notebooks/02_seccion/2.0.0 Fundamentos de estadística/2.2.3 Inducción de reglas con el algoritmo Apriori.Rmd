---
title: '2.2.3 Inducción de reglas con el algoritmo Apriori'
output:
  html_notebook: default
---

```{r}
library(arules)
```

Una de las aplicaciones directas del concepto de probabilidad como frecuencia es la construcción de sistemas de recomendación basados en que ítems siempre van juntos. Este tipo de sistema de recomendación es diferente de aquellos que buscan clientes con comportamientos similares para realizar la recomendación de productos. En términos más generales, este tipo de sistemas permite obtener los conjuntos de ítems que los clientes suelen seleccionar. En este tutorial se discute el algoritmo Apriori para la construcción de reglas de asociación entre ítems.

### Descripción del problema

Un problema típico de los retailers es poder recomendar productos afines a sus compradores basados en el histórico general de las ventas. Estas recomendaciones tienen como fin sugerirle al usuario productos que podría haber olvidado y que usualmente se llevan juntos, o nuevos productos sustitutos que reemplazarían productos ya posicionados. Esta recomendación se basa en el histórico general de la tienda (productos que todas las personas usualmente llevan juntos) y no en las preferencias individuales de los clientes.

Para ejemplificar el proceso de construcción de las reglas de inducción, se tiene un conjunto ficticio de 10 transacciones realizadas sobre seis posibles ítems (x1,...,x6), donde cada fila representa una transacción:
 
 # | Productos
---|---|---|---|-----
 1 | x1| x2| x3|
 2 | x1| x3|   |
 3 | x2| x4|   |
 4 | x1| x2| x3|
 5 | x1| x2| x5|
 6 | x1| x2| x3| x4
 7 | x4| x6|   |
 8 | x1| x2| x4| x6
 9 | x1| x3| x4|
10 | x1| x2| x3|

El problema consiste en derivar un conjunto de reglas de asociación que permita recomenda un grupo de productos a partir de los productos que ya seleccionó el cliente. Por ejemplo, si un cliente compra x1 y x3, ¿qué producto o productos se le deben recomendar?

### Transacción

Una transacción se representa a través del conjunto de ítems comprados en ella. Así, una transacción con cuatro ítems se representa como:

{x1,x2,x3,x4}

El problema descrito equivale a determinar los productos xi, con xi∉{x1,x2,x3,x4}, con mayor probabilidad de ser comprados sabiendo que el cliente ya seleccionó x1, x2, x3 y x4. Dicho de otra forma, se deben computar las probabilidades condicionales Pr(xi|x1,x2,x3,x4) y recomendar los N  productos xi  con mayor probabilidad condicional de compra. En este problema se asume que SI existe una dependencia entre la compra de un producto y otro; si esta dependencia no existe, no tiene sentido construir el sistema de recomendación.

```{r}



```

